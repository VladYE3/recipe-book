import{a as A}from"./chunk-YAPSYBAZ.js";import{a as F,c as T,d as j,f as D,h as k,i as q,o as R,p as U,q as O,t as P}from"./chunk-MRS7BZMX.js";import{$ as L,Aa as z,B as g,C as h,H as s,I as v,N as d,P as M,Q as r,R as o,S as p,T as y,V as x,W as c,Y as S,Z as m,_,ja as I,ka as E,ta as V,u as b,x as C,xa as N,y as w,za as G}from"./chunk-RA6G72UF.js";function J(t,e){if(t&1&&(r(0,"div",5)(1,"p"),m(2),o()()),t&2){let l=c();s(2),_(l.error)}}function K(t,e){t&1&&(r(0,"div",6),p(1,"app-loading-spinner"),o())}function Q(t,e){if(t&1){let l=y();r(0,"form",7,8),x("ngSubmit",function(){g(l);let i=S(1),a=c();return h(a.onSubmit(i))}),r(2,"div",9)(3,"label",10),m(4,"E-mail"),o(),p(5,"input",11),o(),r(6,"div",9)(7,"label",12),m(8,"Password"),o(),p(9,"input",13),o(),r(10,"div")(11,"button",14),m(12),o(),r(13,"button",15),x("click",function(){g(l);let i=c();return h(i.onSwitchMode())}),m(14),o()()()}if(t&2){let l=S(1),n=c();s(11),d("disabled",!l.valid),s(),_(n.isLoginMode?"Login":"Sign Up"),s(2),L("Switch to ",n.isLoginMode?"Sign Up":"Login","")}}var B=(()=>{let e=class e{constructor(n,i){this.authService=n,this.router=i,this.isLoginMode=!0,this.isLoading=!1,this.error=null}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(n){if(!n.valid)return;let i=n.value.email,a=n.value.password,u;this.isLoading=!0,this.isLoginMode?u=this.authService.login(i,a):u=this.authService.signUp(i,a),u.subscribe(f=>{this.isLoading=!1,this.router.navigate(["/recipes"])},f=>{console.log(f),this.error="An error occured!",this.error=f,this.isLoading=!1}),n.reset()}};e.\u0275fac=function(i){return new(i||e)(v(A),v(V))},e.\u0275cmp=C({type:e,selectors:[["app-auth"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1),M(2,J,3,1,"div",2)(3,K,2,0,"div",3)(4,Q,15,3,"form",4),o()()),i&2&&(s(2),d("ngIf",a.error),s(),d("ngIf",a.isLoading),s(),d("ngIf",!a.isLoading))},dependencies:[I,q,F,T,j,R,O,U,k,D,G],styles:["button[_ngcontent-%COMP%]{margin-left:7px}"]});let t=e;return t})();var ae=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=w({type:e}),e.\u0275inj=b({imports:[E,P,N.forChild([{path:"",component:B}]),z]});let t=e;return t})();export{ae as AuthModule};
