import{a as P,b as B}from"./chunk-XNMDPK6P.js";import{b as O}from"./chunk-HJII3JWM.js";import{a as m}from"./chunk-YAPSYBAZ.js";import{Aa as z,B as S,C as _,H as l,I as d,N as u,P as x,Q as o,R as n,S as f,T as b,V as C,W as w,Z as a,ja as A,la as L,na as R,o as M,oa as T,p as I,pa as j,qa as E,sa as H,t as k,u as s,ua as N,va as F,w as D,wa as V,x as g,xa as y,y as p,ya as q}from"./chunk-RA6G72UF.js";function $(t,e){t&1&&(o(0,"li",7)(1,"a",12),a(2,"Recepies"),n()())}function ee(t,e){t&1&&(o(0,"li",7)(1,"a",13),a(2,"Authenticate"),n()())}function te(t,e){if(t&1){let v=b();o(0,"li")(1,"a",14),C("click",function(){S(v);let i=w();return _(i.onLogout())}),a(2,"Logout"),n()()}}function ie(t,e){if(t&1){let v=b();o(0,"li",15)(1,"a",16),a(2,"Manage "),f(3,"span",17),n(),o(4,"ul",18)(5,"li")(6,"a",14),C("click",function(){S(v);let i=w();return _(i.onSaveData())}),a(7,"Save Data"),n()(),o(8,"li")(9,"a",14),C("click",function(){S(v);let i=w();return _(i.onFetchData())}),a(10,"Fetch Data"),n()()()()}}var J=(()=>{let e=class e{constructor(r,i){this.dataStorageService=r,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(r=>{this.isAuthenticated=!!r})}onSaveData(){this.dataStorageService.storeRecipes()}onFetchData(){this.dataStorageService.fetchRecipes().subscribe()}onLogout(){this.authService.logout()}ngOnDestroy(){this.userSub.unsubscribe}};e.\u0275fac=function(i){return new(i||e)(d(B),d(m))},e.\u0275cmp=g({type:e,selectors:[["app-header"]],decls:15,vars:4,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["href","/",1,"navbar-brand"],[1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active",4,"ngIf"],["routerLinkActive","active"],["routerLink","/shopping-list"],[1,"nav","navbar-nav","navbar-right"],[4,"ngIf"],["class","dropdown","appDropdown","",4,"ngIf"],["routerLink","/recipes"],["routerLink","/auth"],[2,"cursor","pointer",3,"click"],["appDropdown","",1,"dropdown"],["role","button",1,"dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"]],template:function(i,c){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),a(4,"Recipe Book"),n()(),o(5,"div",4)(6,"ul",5),x(7,$,3,0,"li",6)(8,ee,3,0,"li",6),o(9,"li",7)(10,"a",8),a(11,"Shopping List"),n()()(),o(12,"ul",9),x(13,te,3,0,"li",10)(14,ie,11,0,"li",11),n()()()()),i&2&&(l(7),u("ngIf",c.isAuthenticated),l(),u("ngIf",!c.isAuthenticated),l(5),u("ngIf",c.isAuthenticated),l(),u("ngIf",c.isAuthenticated))},dependencies:[A,N,F,q]});let t=e;return t})();var K=(()=>{let e=class e{constructor(r){this.authService=r}ngOnInit(){this.authService.autoLogin()}};e.\u0275fac=function(i){return new(i||e)(d(m))},e.\u0275cmp=g({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,c){i&1&&(f(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2),f(4,"router-outlet"),n()()())},dependencies:[H,J],styles:["h3[_ngcontent-%COMP%]{color:#1e90ff}"]});let t=e;return t})();var oe=[{path:"",redirectTo:"/recipes",pathMatch:"full"},{path:"recipes",loadChildren:()=>import("./chunk-2VTESJOK.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-YVKQX5V6.js").then(t=>t.ShoppingListModule)},{path:"auth",loadChildren:()=>import("./chunk-YRSVUQ7H.js").then(t=>t.AuthModule)}],Q=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({imports:[y.forRoot(oe,{preloadingStrategy:V}),y]});let t=e;return t})();var U=(()=>{let e=class e{constructor(r){this.authService=r}intercept(r,i){return this.authService.user.pipe(M(1),I(c=>{if(!c)return i.handle(r);let Y=r.clone({params:new L().set("auth",c.token)});return i.handle(Y)}))}};e.\u0275fac=function(i){return new(i||e)(D(m))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var W=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({providers:[O,P,{provide:R,useClass:U,multi:!0}]});let t=e;return t})();var X=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e,bootstrap:[K]}),e.\u0275inj=s({imports:[E,Q,T,z,W]});let t=e;return t})();j().bootstrapModule(X).catch(t=>console.error(t));
