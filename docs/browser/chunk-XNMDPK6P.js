import{b as m}from"./chunk-HJII3JWM.js";import{a as l}from"./chunk-YAPSYBAZ.js";import{a as n,b as h,c as a,d as R,e as x,i as u,l as y,m as I,ma as d,q as f,t as c,w as s}from"./chunk-RA6G72UF.js";var b=a(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var C=(I(),x(y));o.Subject=C.Subject});var g=a(p=>{"use strict";function k(r){for(var i in r)p.hasOwnProperty(i)||(p[i]=r[i])}Object.defineProperty(p,"__esModule",{value:!0});k(b())});var j=R(g());var v=(()=>{let i=class i{constructor(e){this.slService=e,this.recipesChanged=new j.Subject,this.recipes=[]}setRecipes(e){this.recipes=e,this.recipesChanged.next(this.recipes.slice())}getRecipe(e){return this.recipes[e]}getRecipes(){return this.recipes.slice()}addIngredientsToShoppingList(e){this.slService.addIngredients(e)}addRecipe(e){this.recipes.push(e),this.recipesChanged.next(this.recipes.slice())}updateRecipe(e,t){this.recipes[e]=t,this.recipesChanged.next(this.recipes.slice())}deleteRecipe(e){this.recipes.splice(e,1),this.recipesChanged.next(this.recipes.slice())}};i.\u0275fac=function(t){return new(t||i)(s(m))},i.\u0275prov=c({token:i,factory:i.\u0275fac});let r=i;return r})();var H=(()=>{let i=class i{constructor(e,t,S){this.http=e,this.recipesService=t,this.authService=S}storeRecipes(){let e=this.recipesService.getRecipes();this.http.put("https://recipe-book-51ef4-default-rtdb.firebaseio.com/recipes.json",e).subscribe(t=>{console.log(t)})}fetchRecipes(){return this.http.get("https://recipe-book-51ef4-default-rtdb.firebaseio.com/recipes.json").pipe(u(e=>e.map(t=>h(n({},t),{ingredients:t.ingredients?t.ingredients:[]}))),f(e=>{this.recipesService.setRecipes(e)}))}};i.\u0275fac=function(t){return new(t||i)(s(d),s(v),s(l))},i.\u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();export{v as a,H as b};
